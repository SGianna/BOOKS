
# Clean Code 
## 노개북 TIL (Today I Learned)
---

## 목차
1. [추천사 & 들어가면서](#-추천사-&-들어가면서)
2. [1장. 깨끗한 코드](#-1장-깨끗한-코드)
3. [2장. 의미있는 이름](#-2장-의미있는-이름)
4. [3장. 함수](##-3장.-함수)
5. [4장. 주석](##-4장.-주석)

## 부록
 - [Mission 1. 최애 TIL](#Mission-1.-최애-TIL)
<br/>

## 추천사 & 들어가면서
### 책에서 기억하고 싶은 책 문구
 - 사소한 곳에서 발휘하는 정직은 사소하지 않다. 
 - 소프트웨어는 80% 이상이 소위 "유지보수"이다.
 - 작은 것에도 충실한 사람이 큰 것에도 충실하다.
 - 제조업이란 메타포에서 재작업은 비용을 뜻하지만 소프트웨어 설계에서 재작업은 가치를 가져온다.

### 나의 생각
사탕 상자 뚜껑에 적힌 격언에서 내가 행했던 세세함의 행동에 대한 위로를 받았다. 
개발 속도가 느리고, 사소한것에 집중하는 모습을 단점으로 치부했던 나에게 조금의 안도를 주는 글이었다. 
그저 "유명한 책이다"라고만 알고있었던 책의 첫 문단을 읽어내려가면서 앞으로의 책 내용이 걱정되면서도 기대된다. 
마지막 페이지를 넘길 때 즈음엔 내가 어떤 결론에 도달해 있을 지 궁금해진다.

### 새롭게 알게된 내용
1. [애자일](https://www.youtube.com/playlist?list=PL9mhQYIlKEhf3JxWcaim5anL0_pVFRsZT)
   - 짧은 주기를 가지고 개발과 함께 즉시 피드백을 받아서 유동적으로 개발하는 방법
2. 스크럼(Scrum)
   - 애자일 개발 방식 중 하나
   - 특정 개발 언어나 방법론에 의존적이지 않고, 일반적인 프로젝트 관리에도 사용가능한 프로세스 프레임워크
   - 작은 목표를 짧은 주기로 개발(전달)하는 관리 프레임 워크
3. [린(lean)](https://needjarvis.tistory.com/323) 
   - "낭비"에 포커스를 두고 프로젝트 수행 시 발생하는 모든 낭비를 제거하는 기법

<br/>

## 1장. 깨끗한 코드
### 책에서 기억하고 싶은 책 문구
 - 태도 : 나쁜 코드의 위험을 이해하지 못하는 관리자 말을 그대로 따르는 행동은 전문가답지 못하다.
 - 깨끗한 코드가 무엇인지 모르면 깨끗한 코드를 만들려고 애써봤자 소용이 없다.
 - "중복 줄이기, 표현력 높이기, 초반부터 간단한 추상화 고려하기. 내게는 이 세가지가 깨끗한 코드를 만드는 비결이다.", Ron Jeffries

### 나의 생각
머리를 한 대 얻어맞은 기분이다. 개발을 하면서 강박처럼 지저분하지 않는 코드, 모듈화가 잘 된 코드를 작성하려고 노력했다고 생각했다. 
하지만 설계부터 고심해서 완성한 코드는 항상 만족스럽지 않았다. 여러번의 수정을 거쳐도 마찬가지였다.
지금 생각해보면 나는 깨끗한 코드가 무엇인지 어떻게 작성하는지 모르는 상태였던 것이다.
 
### 새롭게 알게된 내용
1. 보이스카우트 규칙
   - 캠프장은 처음 왔을 때보다 더 깨끗하게 해놓고 떠나라. 
   - 로버트 스테펜슨 스미스 바덴-파웰(Robert Stephenson Smyth Baden-Powell)이 스카우트에게 남긴 작별인사에서 나왔다. "처음 왔을 때보다 더 나은 세상을 만들고 떠나려 노력하라."
<br/>

## 2장. 의미있는 이름
### 책에서 기억하고 싶은 책 문구
 - 의도를 분명히 밝혀라 : 문제는 코드의 단순성이 아니라 코드의 함축성이다. 다시 말해, 코드의 맥락이 코드 자체에 명시적으로 드러나지 않는다. (p.23)
 - 검색하기 쉬운 이름을 사용하라 : 이름 길이는 범위 크기에 비례해야한다. (p.28) 
 - 한 개념에 한 단어를 사용하라 : 추상적인 개념 하나에 단어 하나를 선택해 이를 고수한다. (p.33)
 - 말장난을 하지 마라 
	> 이 메서드를 add라 불러도 괜찮을까? 
	> add라는 메서드가 많으므로 일관성을 지키려면 add라 불러야 하지 않을까? 
	> 하지만 새 메서드는 기존 add메서드와 맥락이 다르다. 새 메서드를 add라 부른다면 이는 말장난이다. (p.34)
 - 의미 있는 맥락을 추가하라 
	> 스스로 의미가 분명한 이름이 없지 않다. 하지만 대다수 이름은 그렇지 못하다. 
	> 그래서 클래스, 함수, 이름 공간에 넣어 맥락을 부여한다. 
	> 모든 방법이 실패하면 마지막 수단으로 접두어를 붙인다. (p.35)
 - 다른 사람이 짠 코드를 손본다면 리팩터링 도구를 사용해 문제 해결 목적으로 이름을 개선하라. (p.38)

### 나의 생각
프로그래밍을 시작하면서 처음 접하는 난관이자, 끝까지 고심하게되는 부분인 이름짓기.
이전 프로젝트를 다시 돌아보게된다. 일관되지 않은 단어 선택으로 혼자 고심하고 여러 수정안을 내놨었다.
이번 챕터를 읽으면서 가장 찔렸던 부분은 좋은 이름을 선택하는 능력은 기술, 관리 등의 문제가 아니라 교육 문제라는 것.
좋은 코드를 보면서 공부하는 시간이 많이 필요하다는 것을 다시금 느낀다. 

### 궁금한 내용
1. 문제 영역에서 가져온 이름을 사용하라
   - 문제 영역 개념과 관련이 깊은 코드라면 문제 영역에서 이름을 가져와야한다. 

</br>

## 3장. 함수
### 책에서 기억하고 싶은 책 문구
- 한 함수내에 추상화 수준을 섞으면 코드를 읽는 사람이 헷갈린다. 특정 표현이 근본 개념인지 아니면 세부 사항인지 구분하기 어려운 탓이다. (p.46)
- 코드는 위에서 아래로 이야기처럼 읽혀야 좋다. 한 함수 다음에는 추상화 수준이 한 단계 낮은 함수가 온다. (p.46)
- 길고 서술적인 이름이 길고 서술적인 주석보다 좋다. (p.49)
- 출력 인수는 입력 인수보다 이해하기 어렵다. 
  흔히 우리는 함수에다 인수로 입력을 넘기고 반환 값으로 출력으 받는다는 개념에 익숙하다. 대개 함수에서 인수로 결과를 받으리라 기대하지 않는다. (p.51)
- 함수에 인수 1개를 넘기는 이유로 가장 흔한 경우는 두 가지다. (p.51) 
	> 인수에 질문을 던지는 경우다. boolen fileExist("MyFile")이 좋은 예다. 
	> 다른 하나는 인수를 뭔가로 변환해 결과를 반환하는 경우다. InputStream fileOpen("MyFile")은 String 형의 파일 이름을 InputStream으로 변환한다. 
	> 다소 드물게 사용하지만 그래도 아주 유용한 단항 함수 형식이 이벤트다. passwordAttemptFailedNtimes(int attempts)가 좋은 예다. 
- 이항함수가 적절한 경우도 있다. Point p = new Point(0,0)가 좋은 예다. 인수 2개는 한 값을 표현하는 두 요소이다. 두 요소에는 자연적인 순서도 있다. (p.52) 
- 단항 함수는 함수와 인수가 동사/명사 쌍을 이뤄야 한다. 예를 들어 write(name)은 누구나 곧바로 이해한다. (p.54)
- 함수 이름에 인수 이름을 넣는다. assertEquals보다 assertEqualsActual(expected,actual)이 더 좋다. 그러면 인수 순서를 기억할 필요가 없어진다.(p.54) 

### 나의 생각
올해 첫 개발 책으로 클린 코드를 선택해서 참 다행이라는 생각이 문득 들었다. 이번 챕터를 읽어내려가면서 혼자 끙끙 앓았던 고민들이 해결되는 느낌이었다. 
	_"처음부터 완벽히 짜야하는가? 구조를 계속 바꾸는 것은 옳지 않은가? 
	함수를 수행하고나서 성공여부를 리턴하는 방식이 꼭 필요한 것인가?
	함수는 어느 깊이까지 구현하는 것이 맞는가?"_

머릿속에 명쾌한 해답 없이 떠돌던 질문들이 짝을 이루고 자리를 찾아갔다. 
그동안 구글링을 하거나 팀원들의 코드를 보면서 혼자 체계를 잡아보려고 아둥바둥하다가 눈 앞에 놓인 문제를 해결하느라 흐지부지 지나가던 일이 많았었다. 
이렇게 나만의 시간을 가지면서 이론을 다시 정립하는 활동을 하게되어 기쁘다. 

- 추상화 수준을 섞으면 코드를 읽는 사람이 헷갈린다. </br>

내가 놓치고 있었던 부분이 무엇인지 확실히 깨닫게되는 말이었다. 
함수 내에서 어떻게 풀어써야 다른 사람이 나의 코드를 이해할 수 있을지에 대한 고민이 많았는데, 얼마나 구체적으로 기술하냐가 중요한 것이 아니었다. 
의도된 기능 이외의 단계들은 적절히 추상화하여 가려주어야 읽는 사람 입장에서는 더 이해하기 쉬운 것이었다!

- set 함수의 리턴 값 --> 명령과 조회를 같이하는 함수
- 예외를 위한 열거형 변수, 의존성 자석
- 출력 인수 사용 </br>

마지막으로 수행했던 프로젝트에서 내가 다른 코드를 리뷰하면서 배우고 구현했던 함수들이 떠올랐다. 
C 언어를 사용하여 개발을 하면서 물론 어쩔 수 없이 사용했던 방식도 있지만 책을 읽고 나서 그것이 얼마나 비효율적인 코드였으며,
어떻게 더 나은 방식을 구현할 수 있는 지 다시 생각해보게 되었다.  

- 한번에 짜내는 사람은 없다. 

처음부터 완벽한 코드 구조를 짜내려가는 사람은 없다. 내게 가장 필요한 말이었다. 
개발 건을 맡고 진행하면서 구조를 여러번 바꾸었는데, 실력이 부족해서 한번에 구조를 잡지 못하는 것이라 생각했다. 
물론 실력이 쌓이면 시행착오를 줄일 수 있지만, 이 과정 자체가 누구나 필요한 것이고 누구나 거쳐가는 것이라는 확신이 생기니까 자괴감에서 조금 벗어날 수 있었다.

### 궁금한 내용
1. FitNesse : 오픈소스테스트 도구
2. JUnit : 웹 기반 테스트 프레임 워크
3. TO문단 : LOGO언어에서 사용하는 키워드 'TO'는 루비나 파이썬에서 사용하는 'def'와 똑같다. LOGO에서 모든 함수는 키워드 'TO'로 시작한다. 
4. SRP(Single Responsibility Principle), OCP (Open Closed Principle)
5. 추상화 팩토리 
6. [도메인 특화 언어](https://www.jetbrains.com/ko-kr/mps/concepts/domain-specific-languages/) (DSL,Domain-Specific Languages) <-> 범용 언어(GPL,General-purpose programming language)
	- 관련 특정 분야에 최적화된 프로그래밍 언어
 	- 대부분의 경우, DSL은 소프트웨어 전문가가 아닌, 해당 DSL의 대상 분야에 능통한 비 프로그래머가 사용하도록 제작됨

</br>

## 4장. 주석
### 책에서 기억하고 싶은 책 문구
	> _나쁜 코드에 주석을 달지 마라. 새로 짜라.
	> 브라이언 W.커니핸, P.J.플라우거_
#### 좋은 주석
- 법적인 주석 : 저작권 정보와 소유권 정보는 필요하다. 
- 정보를 제공하는 주석 : 기본적인 정보를 주석으로 제공, 가능하다면 함수 이름에 정보를 담는 편이 더 좋다. 
- 의도를 설명하는 주석 
- 의미를 명료하게 밝히는 주석 : 인수나 반환 값이 표준 라이브러리나 변경하지 못하는 코드에 속한다면 의미를 명료하게 밝히는 주석이 유용하다.
- 결과를 경고하는 주석
- TODO 주석 : 프로그래머가 필요하다 여기지만 당장 구현하기 어려운 업무를 기술한다. 
- 중요성을 강조하는 주석 

#### 나쁜주석
- 이해가 안 되어 다른 모듈까지 뒤져야 하는 주석은 독자와 제대로 소통하지 못하는 주석이다. 그런 주석은 바이트만 낭비할 뿐이다. 
- 같은 이야기를 중복하는 주석 : 실제로 코드보다 부적황해 독자가 함수를 대충 이해하고 넘어가게 만든다. 
- 의무적으로 다는 주석 : 모든 함수에 javadocs를 달거나 모든 변수에 주석을 달아야 한다는 규칙은 어리석기 그지 없다. 
- 이력을 기록하는 주석 : 예전에는 모든 모듈 첫머리에 변경 이력을 기록하고 관리하는 관례가 바람직했다. 당시에는 소스코드 관리 시스템이 없었으니까. 
- 있으나 마나 한 주석 
- 무서운 잡음 : 잘라서 붙여넣기 오류가 보이는가? 주석을 작성한 저자가 주의를 기울이지 않았다면 독자가 여기서 무슨 이익을 얻겠는가?
- 함수나 변수로 표현할 수 있다면 주석을 달지 마라 
- 위치를 표시하는 주석 : ////////////////////////action////////////////////////  --> 반드시 필요할 때만, 아주 드물게 사용하는 편이 좋다. 
- 닫는 괄호에 다는 주석 : 작고 캡슐화된 함수에는 잡음일 뿐이다. 그러므로 닫는 괄호에 주석을 달아야겠다는 생각이 든다면 대신에 함수를 줄이려 시도하자.
- 공로를 돌리거나 저자를 표시하는 주석 : 저자 이름으로 코드를 오염시킬 필요가 없다. 
- 주석으로 처리한 코드 
- HTML 주석
- 전역 정보 : 바로 아래 함수가 아니라 시스템 어딘가에 있는 다른 함수를 설명한다는 말이다. 코드가 변해도 주석이 변하리라는 보장은 전혀 없다. 
- 너무 많은 정보
- 모호한 관계 : 주석과 주석이 설명하는 코드는 둘 사이 관계가 명백해야한다. 
- 함수 헤더 
- 비공개 코드에서 Javadocs
  
### 나의 생각
주석에 관해 알고있었던 정보들은 대부분 엉터리였다. 그래서 나쁜 주석의 리스트를 보면서 찔리는 부분이 많았다. 
옛날에 짜여진 코드를 보면서 배우고 따라했던 부분도 있었는데, 현재는 환영 받지 못하는 방법이라는 것을 깨닫게되었다. 
위치를 표시하는 주석을 열심히 달면서 주석을 잘 적었다고 생각했는데, 오히려 지저분한 코드를 만들고 있었다.
(그외에도 이력 기록.. 저자표시.. 닫는 괄호에 다는 주석 등)

	> _아래 모듈이 매력적인 이유는 우리들 상당수가 이런 코드를 보면서 '주석을 잘 달았다'고 생각하던 시절이 있었기 때문이다. 
	> 이제는 엉성한 코드로 여겨진다._ 
기술이 발전하면서 주석을 "잘" 다는 방법도 계속해서 변화해왔다는 사실을 알게되었다. 
앞으로도 이번 한번에 멈추지 않고 클린 코드 작성 방법을 꾸준히 업데이트 해야겠다.

프로젝트를 하면서 가장 많이 했던 말이
" 왜 주석을 안달까.."
" 왜 주석이 틀릴까.."
였다. 내가 했어야하는 말은 그게 아니라 "왜 클린 코드가 아닐까" 였다.
</br>

## Mission 1. 최애 TIL
1. [robinyeon님의 Github](https://github.com/robinyeon/TIL/)
 - 선정 이유 : Github에 TIL 작성을 생각하면서 형식을 잡는 데 많은 도움을 받을 수 있었다. 
2. [inkyu0103님의 velog](https://velog.io/@inkyu0103/Books-Clean-Code-TIL-2)
 - 선정 이유 : 읽은 소감을 정리하신 부분이 인상 깊었다. 
3. [catsbi님의 oopy](https://catsbi.oopy.io/e538c4d1-8620-4c33-b040-59c6bba56a44)
 - 선정 이유 : 클린 코드 요약본을 보는 느낌이였다. 각 챕터마다 이해하고 정리하는 데 많은 시간과 노력을 기울이신게 느껴졌다. 
 
#노마드코더 #북클럽 #노개북

"이 글은 [Robinyeon 님의 클린 코드](https://github.com/robinyeon/TIL/) TIL 작성 형식을 참고하였습니다."
